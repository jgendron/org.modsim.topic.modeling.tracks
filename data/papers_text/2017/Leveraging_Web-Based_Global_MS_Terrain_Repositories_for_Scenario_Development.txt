Cart Before the Horse: Leveraging Web-Based Global M&S Terrain Repositories for Scenario Development
Samuel Chambers
Joint Staff, J7
Suffolk, VA samuel.d.chambers2.civ@mail.mil
Jay Freeman
CAE USA Orlando, FL jay.freeman@caeusa.mil
ABSTRACT
Dr. Elaine Blount Suffolk, VA elaine.m.blount.ctr@mail.mil
The Joint Staff (JS) J7 is developing Joint Training Tools as modular simulation services to reside within the Joint Training Synthetic Environment (JTSE). The JTSE will be a web-enabled, enterprise environment that provides scalable, modular simulation services on-demand, and operationally relevant training. Terrain data and geospatial planning are important components of these environments for scenario development. Commercial online data sources, such as Google Earth, can be used during scenario planning and development. However, paper maps and/or PowerPoint generated slides are more often used during planning conferences to determine how geography will affect the training event or to identify key terrain features, avenues of approach, Lines of Communications (LOC), objective areas, and other mission needs. During the scenario development process, Modeling and Simulation (M&S) planners provide terrain database developers with the initial simulation datasets requirement terrain builds. Specific details, such as the need for high fidelity imagery or 3D models are typically communicated later in the scenario development process. These details often come after M&S planners have viewed the initial terrain database. Communication between the M&S planners and the terrain data builders is extremely important because artifacts created during the scenario planning conferences are not always shared with the terrain database developers. This paper describes how the web-based Terrain Generation Service (TGS), developed as a part of the JTSE Joint Training tools, could support scenario development, and improve communication between an event planner and the terrain database development team by leveraging existing web-based global M&S terrain repositories and geospatial data standards.
ABOUT THE AUTHORS
Samuel Chambers is the Lead for Data Services at the Joint Staff J7’s Joint Training, Environment Architecture Division. His DoD experienced has included creating and maintaining Geospatial databases, supporting Enterprise level Geographic Information Systems (GIS), and managing web services to support Modeling & Simulation for Training. He currently manages the Joint Staff’s Joint Training Data Services (JTDS) system, which provides Order of Battle and Terrain Data services to support Joint and Service Training. Mr. Chambers received a Bachelors of Science in Geology from Elizabeth City State University (Elizabeth City, NC) and a Masters in Geography from Virginia Tech (Blacksburg, VA), and served in the Marine Corps Reserves (Norfolk, VA).
Jay Freeman works for CAE USA as a Software/Systems Engineering Group Leader and serves as the CAE’s Technical Lead for Joint Staff J7 Environmental Development Division’s development of a Terrain Generation Service. Mr. Freeman previously served as the System and Software Architect for SE Core DVED. Prior to working for CAE USA, Mr. Freeman has worked at TERREX, Lockheed Martin STS and Intergraph. Mr. Freeman attended Hobart College (Geneva, NY) for undergraduate studies and the University of Alabama in Huntsville (Huntsville, AL) for graduate studies.
Dr. Elaine Blount is the JTDS Technical Contractor Lead. Elaine has worked on the data team for Joint Training Tools (JTT), designed and coded portions of the Combat Adjudication Service (CAS), has worked as a task lead for Enterprise Data Services, and has written flight simulation software as part of the development team for the NASA Langley Standard Real-Time Simulation. Elaine received her PhD in Modeling and Simulation from Old Dominion University, her Master in Computer Science from the College of William and Mary, and her Bachelor of Science from Virginia Tech.
2017 Paper No. 24 Page 1 of 11
MODSIM World 2017

Cart Before the Horse: Leveraging Web-Based Global M&S Terrain Repositories for Scenario Development
Samuel Chambers
Joint Staff, J7
Suffolk, VA samuel.d.chambers2.civ@mail.mil
BACKGROUND
Joint Staff (JS) J7 Mission
Jay Freeman
CAE USA Orlando, FL jay.freeman@caemilusa.com
Dr. Elaine Blount Suffolk, VA elaine.m.blount.ctr@mail.mil
The Joint Staff J7 supports the training and development of Joint and multinational capabilities in order to meet present and operational needs of the Joint Force. JS J7’s role in the Chairman of the Joint Chiefs of Staff (CJCS) Joint Exercise Program (JEP) is facilitate the design, planning, preparing, conducting and assessment of events that provide collective Joint Training (JT) for Combatant Commanders (CCDRs) and Services. JS J7 is organized to provide commanders what they need to meet the realistic expectations experienced with in today’s dynamic operational environment (OE) and help prepare them for the challenges of the future. While the JS J7 conducts joint and multinational training focused on commanders staffs and component forces operation at the strategic and operational levels, they also support joint operation through tactical level training centered on Service component sponsored and advanced field training exercises (FTX), supported by distributed simulations. Products needed to conduct JT include information similar to what is needed for Joint Operation Planning (JOP).
Terrain Database Requirements and the JELC Process
The JT process is guided by the Joint Event Lifecycle (JELC) process (Figure 1: JELC Planning Cycle). The JELC process consists of five stages: design; planning; preparation; execution; and evaluation, analysis and reports (JTH 2017). Although a complete discussion of the JELC process is outside the scope of this paper, the discussion below explains the relevant portions of this process as it supports JT with OE geography and simulation terrain databases.
Figure 1: JELC Planning Cycle
There are many major events, meetings and activities identified in the JELC process. A major meeting conducted during the design phase is the concept development conference (CDC), which is conducted 10-12 months prior to the event execution. CDC outcomes include the determination that simulation support is required, the operational area covered by the exercise, and the proposed simulation requirements. During the planning phase is when the initial simulation database is built. M&S planners support the middle planning conference (MPC), which is conducted 4-6 months prior to event execution. The Master Scenario Events List (MSEL) development conference is a MPC precursor activity. During this MSEL build conference, the Joint MSEL
MODSIM World 2017
 2017 Paper No. 24 Page 2 of 11

(JMSEL) database is prepared by designated personnel in draft form. Based on exercise and training objectives, M&S planners recommend models and simulations (M&S) to the training audience representatives for approval. The expertise of the M&S planners and their knowledge of the JS J7’s M&S toolkit influences this selection process, but the training audience makes the final M&S tool selection. Miscommunications between M&S planners and database developers increase the likelihood of unplanned work to redo previously completed efforts. These unscheduled efforts thereby add risk to planners’ ability to maintain the preparation stage activities in keeping with the exercise schedule. Event testing is where the simulation Order of Battle (OOB), parametric and terrain databases are validated against key scenario elements. An outcome of event testing is to verify that the supporting M&S are stimulating the necessary command and control systems. The testing process runs smoothly when both the M&S planners and database developers understand how and when they must communicate. However, scenario requirement disconnects between the M&S planners and the database development team often requires the latter to address this disconnect by working unplanned hours to update the terrain database to meet the “implied” requirements of the scenario. Again, these unscheduled efforts may add risk to maintaining the exercise’s delivery schedule in terms of M&S support.
In addition to terrain databases, specialized map information may be needed for the event to aid trainee knowledge acquisition of the scenario. Map layer information may include geographical features, population demographics, political and economic features, infrastructures, operational limitations (e.g., rules of engagement (ROE), no fly zones), environmental conditions, toxic material locations, International Governmental Organizations (IGOs) such as foreign embassies or Non-Governmental Organizations (NGOs), and or knowledge of capabilities or intent of forces (JP 5-0, 2011).
Historic JELC Process Challenges
Each exercise and supporting scenario is unique, so there are no standard terrain database requirements. Some exercises reuse previously built operational terrain used for training, but the slightest changes to an exercise’s focus area may drive significant terrain updates. Other exercises require a new terrain database for each event. MSELs may drive the need to update the terrain with recent imagery, 3D models, infrastructure, etc.
Some issues and risks with the current way of doing terrain development include:
1. During the conferences, paper or electronic map tools are used to discuss the exercise area of operation (i.e., playbox) –
existing terrain databases are not easily displayed or discussed. Google Earth (GE) views and paper maps may be dated, and may not identify key terrain features, avenues of approach, lines of communications, objective areas and other mission needs. Although GE supports markup and adding overlays in a real-time manner, operational security concerns often prevent GE use during JELC conferences.
2. The exercise scenario information is collected in the Joint Training Information Management System (JTIMS) database (CJCSM 3500.03E) or on Sharepoint, but there is no automatic process to notify users of when relevant data is available for review/ validation.
3. M&S planners and terrain specialists are simultaneously matrixed across multiple projects – setting up a face to face meeting can be pushed back due to operational priorities
4. A dependence on a very few specialists – the skills to create terrain databases that successfully meet the training audiences’ needs are not taught in Universities. Contract turnover and career progressions can cause support challenges because it takes time to get new hires up to speed.
To address the historic challenges of the JELC process, the JS J7 began development of the Terrain Generation Service (TGS) in 2013. Over the last four years, TGS has evolved to enable M&S planners and terrain database developers the ability to exchange information via web-based Joint Training Tools (JTT). This capability reduces communication errors when planners and developers communicate in regards to database requirements, scenarios, and simulation ready terrain content. This error reduction is envisioned to lower the likelihood of performing unplanned rework caused by the need to redo previously accomplished work.
JOINT TRAINING DATA SERVICES
The Joint Training Data Services (JTDS) is a web-based collection of services that provides M&S ready data and scenario development tools to the DoD Modeling & Simulation community to support Joint and Service theater level constructive & virtual training (Chambers & Freeman, 2014). JTDS supports the existing JT federation users. The planned JTT will encapsulate JTDS data repositories. The JTT suite will make these data repositories accessible via RESTful application program interfaces (API). JTDS provides persistent web access to an OOB service and TGS that
2017 Paper No. 24 Page 3 of 11
MODSIM World 2017

leverages unique data repositories and tools to generate training scenario initialization files (Chambers & Freeman, 2014). JTDS enables training event database specialists to rapidly build scenario terrain and force structure initialization files, thereby saving money and time by accelerating exercise preparation. JTDS increases the quality of data used to support events by providing consistent M&S-ready data sets derived from the best available source data.
To support TGS, JS J7 terrain database specialists constructed a global repository covering most of the earth’s surface at a 1:250K scale in the Open Geospatial Consortium (OGC)’s Open Standard Common Database (CDB) structure. As new exercise requirements drive terrain development, those higher resolution databases will be added to the CDB repository. This global repository is accessible through TGS on NIPR to any DoD user with a valid sponsor, operational need, and a Common Access Card (CAC). This service is planned for install on the SIPR by May 2017.
TERRAIN GENERATION SERVICES (TGS)
MODSIM World 2017
 Figure 2: Terrain Generation Service Architecture
Capabilities
TGS is a web service architecture composed of several RESTful services in logical groupings, namely Visualization and Dissemination Service (VDS), Geospatial Discovery Service (GDS), Map Layer Service (MLS), Content Creation Service (CCS), and Build Action Service (BAS), which are depicted within rectangles with rounded corners in Figure 2. The color code legend for this figure is in the upper right hand corner. The collective aforementioned web services enable M&S planners, operational users and terrain database engineers to visualize, disseminate, analyze, update, and produce various geospatial and terrain database products for operational use in training exercises.
Software developers and 3rd party toolsets (i.e., machine to machine interfaces) can access TGS via the yellow interfaces illustrated in Figure 2: CDB API, Web Coverage Services (WCS), Web Feature Services (WFS), Web Feature Services – Terrain (WFS-T), Web Mapping Services (WMS), Web Processing Services (WPS) The interfaces of TGS include a traditional C++ interface to access CDB datasets and RESTful OCG Web Service Interfaces to obtain data. Other JTT such as the Training Environment Manager (TEM), Joint Exercise Development Tool (JEDT), and others can easily access data through the OGC Web Service.
2017 Paper No. 24 Page 4 of 11

MODSIM World 2017
         Figure 3: Defining a playbox in TGS for terrain export to CDB and JCATS
TGS was fielded in September of 2016 on NIPR with a web-based repository of correlated M&S ready terrain data. Key TGS capabilities provided include:
1. The ability to view terrain data in an interactive, global 2D/ 3D web map.
2. Leveraging Defense Discovery Metadata Standard (DDMS) 5.0 to define the terrain data in terms of pedigree,
resolution, and limitations.
3. Terrain streaming and dissemination of OGC CDB 1.0 terrain data via OGC Web Service Standard for WMS,
WFS, WCS, and WPS.
4. The user ability to define an area of interest/ playbox by:
a. Downloading the playbox to the user’s local machine in either the OGC CDB 1.0 format or compiling the database into the proprietary Joint Conflict and Tactical Simulation (JCATS) terrain format (Figure 3: Defining a playbox in TGS for terrain export to CDB and JCATS). In this figure, the orange and magenta user defined rectangles represent two examples of terrain areas to be downloaded.
b. Adding 3D models to the playbox by selecting from an existing repository, or creating a custom 3D model (Figure 4: Building a 3D Model in TGS). In this figure, the user creates yellow frames to define the desired structure.
2017 Paper No. 24 Page 5 of 11

MODSIM World 2017
      Figure 4: Building a 3D Model in TGS
For the initial release, the JS J7 created a global baseline dataset at 1:250K map scale in OGC CDB 1.0, which excluded the polar regions. As JS J7 requirements drive additional terrain needs, higher resolution data will be built into this global dataset, and provided to the end users on either NIPR or SIPR, classification dependent. Although the content initially fielded in TGS is only at 1:250K scale, the TGS is architected to handle higher resolutions than what currently existing from the existing data sources.
Should an area of interest in the TGS terrain holdings be insufficient for an exercise, an automated process enables the user to define the desired the Area of Interest (AOI), high resolution inset areas, and other information needed to meet the user’s exercise needs. For example, the user can denote on the 2D web-based map areas where specific 3D models are needed, navigation routes, and other exercise significant geospatial content needed from the exercise. Once the terrain database team builds the requested terrain updates, the user can log back into TGS and export the terrain data for use in a simulation event. In addition to exporting the terrain into a simulation ready format, the user can also export maps into PowerPoint for use at planning conferences.
Data Standards
As authoritative data providers and other US, coalition and commercial vendors are adopting CDB, TGS may incorporate additional CDB datasets. TGS was developed to leverage the OGC Web Service Standards to share data with other web and client based tools. For example, a user with GE could connect to CDB data through WMS, and view the CDB as a map overlay. TGS also provides the capability to view other layers via OGC web services, so base maps and other non-simulation geospatial data sets can be viewed in the map interface. Other JTTs will interact with TGS in this manner.
As the JTT development matured, another intended TGS use has begun to take shape. Since TGS is built on open source geospatial products, such as GeoServer, the system acts as a universal translator for most common geospatial formats. Shapefiles, Keyhole Markup Language (KML), Georeferenced Tagged Image File Format (GeoTIFF), Joint Photographic Experts Group (JPEG), National Geospatial-Intelligence Agency (NGA) formats and a large variety of other data formats can be added to the GDS to be symbolized and displayed on the web. Finally, because the symbology set up in TGS carries over through web transmission, then a standard symbology can be set up and reused for many applications.
2017 Paper No. 24 Page 6 of 11

Map Layer Services (MLS)
Figure 5: Map Layer Service (MLS)
Map Layer Services (MLS) is a subcomponent of TGS (Figure 5: Map Layer Service (MLS)). MLS enables a planner
to:
1. Create specialized maps for use at planning conferences and simulation events.
2. Create map layers and associate time to the map layers. This enables time specific scenario map layers
regarding events.
3. Export map layers based on time to PowerPoint documents.
4. Map layer streaming and dissemination via OGC Web Service Standard for WCS, WFS, WMS, and WPS.
5. Simulate natural disasters impacting the exercise at a particular time (Figure 6: MLS Simulation of an
Earthquake with causalities). In this figure, the various circles have an associated number to represent the
number of casualties at the various locations spread across an urban region.
6. Define targets for the exercise.
7. Define the terrain complexity of an operation area.
8. Upload custom map graphics for usage within the proposed JTT framework.
2017 Paper No. 24 Page 7 of 11
MODSIM World 2017
 
MODSIM World 2017
    Figure 6: MLS Simulation of an earthquake with causalities
M&S planners enter MLS to define an area of interest, exercise start date, and exercise end date for an exercise. As the M&S planners define the exercise, it is determined by the planner whether the exercise being created is private or viewable by other planners. Once the M&S planner has defined the dates and location of the exercise, the M&S planner may edit the geospatial data in several ways. The most important aspect of editing the geospatial data within MLS is that the data is time sensitive. Time sensitive geospatial data in MLS is defined as geospatial data that changes location (e.g., latitude/longitude of a feature), health (e.g., healthy, damaged, or destroyed), affiliation (e.g., friendly, hostile, or neutral), or updated properties (e.g., new name for a port, updated port depth) as time increments.
MLS enables the creation of time sensitive geospatial data for numerous geospatial datasets. Geospatial datasets editable within MLS include the ports, airfields, Military Standard (MIL2525C) targets, causalities, displaced persons, and more data layers. For example, the status of ports could change over the course of an exercise. At the start of an exercise, a port could be characterized as operational/ friendly. Then by day two, the port could be defined as damaged/ friendly. At day three, the port could be defined as destroyed/ hostile. At day four, the port could be defined as destroyed/ hostile and renamed as “Bad Guy Port”. Any of the aforementioned data layers are editable for any time of the exercise. Figure 7 illustrates airfields on the map changing health and affiliation at different points in the scenario. In this figure, the bar under each airfield represents health where green is operational, yellow is damaged and red is destroyed. An affiliation change is denoted as the green filled circle in the left airfield changes to blue in the lower right quadrant.
While the user of MLS may manually edit the state of ports, airfields, causalities, MIL2525 targets, and other data layers for any given time of an exercise, MLS also contains automated simulation capabilities to update geospatial data based on a simulated events. For example, at any time interval within the exercise, a user can simulate an earthquake by defining the radius of the desired earthquake in kilometers and desired magnitude. Based on the underlying world coverage of geological data to include soil types, faults, and velocity profiles of the terrain, an earthquake is approximated to determine the ports, airfields, buildings, and other features likely damaged by the earthquake. Additionally, simulated earthquakes in MLS leverage global population density datasets to estimate civilian causalities from the earthquake. It is important to note that the earthquakes simulated by MLS are not intended to be used in a scientific or forecasting mechanism. While the underlying geophysical data and earthquake models of MLS are based on accurate scientific data and techniques, the resulting simulation effects are not approximated based on likely failures of feature types based on a peak ground accelerations. Future development plans for MLS include
2017 Paper No. 24 Page 8 of 11

the expansion of simulated effects to an exercise to include floods, tsunamis, chemical biological radiological nuclear and explosives (CBRNE), and other similar effects that impact the civilian population and infrastructure.
MLS contains a global concept of "terrain complexity.” Terrain complexity is a function of civilian population, standard deviation of the elevation surface, surface material types, kilometers of roads, number of bridges, number of key road intersections, and amount of critical infrastructure. Terrain complexity can be manually adjusted by a user for any of the previously mentioned parameters to produce a “checkerboard” of the most and least complex geographic areas of the exercise area. Based on the terrain complexity checkboard, users can create routing paths within MLS to determine the likely advancement of military units, such as tracked vehicles or dismounted infantry, under different military conditions, such expecting combat or free movement. Leveraging the terrain complexity and routing enables M&S planners to understand the constraints of force movement based on the underlying geospatial data.
Ingesting user graphics into JTT in support of the JELC is a challenge. M&S planners often bring a hard copy map, a graphic from the internet, or other pseudo map formats that are not readily consumable by traditional (i.e., legacy) M&S tools. MLS enables the user to upload any map for use with in the JTT framework. For example, MLS enables M&S planners to upload for automated reuse a JPEG file (or other common file formats) that contains a map of known enemy camps. MLS georeferences the uploaded graphic by picking user defined control points, and disseminate the resulting georeferenced map to other JTT such as TEM or JEDT. Empowering the M&S planner to upload custom JPEG graphics into the JTT is a powerful capability that speeds data sharing, fidelity, and accuracy between the terrain database developers and M&S planners.
MODSIM World 2017
      2017 Paper No. 24 Page 9 of 11

SUMMARY
MODSIM World 2017
  Figure 7: Airfields Changing Affiliation and Damage Status over Time through an Exercise
 Figure 8: JELC Planning Cycle Leveraging TGS
TGS enables planners to access terrain data during the design, planning, and preparation stages of the JELC. By giving planners access to the terrain data during the early stages of JELC planning, “hidden” or “implied” requirements will become more readily identified as the M&S planners and terrain database teams are empowered to communicate over a common terrain understanding. Furthermore, TGS enables M&S planners to leverage geospatial data during the MSEL design process resulting in faster built and more accurate MSELs. The information captured within TGS can also serve as a cueing mechanism for terrain database teams to focus their work efforts on particular area for an event. Said differently, this mechanism could assist developers to determine where the current terrain data is sufficient and where it needs additional work.
TGS enables three different export mechanisms of simulation content and information: planners can use TGS to create PowerPoint slides to support planning, simulations can retrieve the map layers automatically, or users can built their own terrain products at their point of need. TGS provides a framework to ensure all federated simulation event simulations have the exact same initialization data.
ACKNOWLEDGEMENTS
2017 Paper No. 24 Page 10 of 11

The authors would like to acknowledge Earl Miller from the SOCOM Special Operations Forces Planning, Rehearsal, and Execution Preparation (SOFPREP) for the foresight to move forward within the DoD leveraging an open, non- proprietary terrain standard in the mid-2000’s. Also notable is the efforts of David Graham and the Open Geospatial Consortium (OGC) CDB working group to shepherd this standard through the process to be fully adopted as an industry standard.
DISCLAIMER
This work was supported in part by the US Joint Staff (Contract # N00189-14-D-Z018). The views and conclusions contained in this document are those of the authors and should not be interpreted as representing the official policies, either expressed or implied, of the US Joint Staff or the US Government. The US Government is authorized to reproduce and distribute reprints for Government purposes.
REFERENCES
Chairman of the Joint Chiefs of Staff Manual, (15 January 2011). Joint Training Manual for the Armed Forces of the United States, CJCSM 3500.03C
Joint Publication 5-0 (JP-5) (2011). Joint Operation Planning. Open Geospatial Consortium (OGC), 2017, February 2
2017 Paper No. 24 Page 11 of 11
MODSIM World 2017
